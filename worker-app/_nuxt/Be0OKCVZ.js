import{bk as R,k as O,bz as N,l as g,bA as I,ap as M,bj as P,b8 as W,bB as C,b0 as Y,S as D,bc as j,R as $,a3 as H,bC as q,e as G,U as X,au as V,ad as L,bD as E,bd as S,bE as _,bF as z,bG as J,bH as F,bI as T,j as Q,o as Z,w as ee,G as te,h as ne,P as re,bJ as se}from"#entry";const oe=R(()=>{const e=g(new Map),t=g(),n=O(()=>{for(const c of e.value.values())if(c)return!0;return!1}),s=I({scrollBody:g(!0)});let u=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",C&&u?.(),t.value=void 0};return M(n,(c,v)=>{if(!P)return;if(!c){v&&l();return}t.value===void 0&&(t.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,y={padding:i,margin:0},o=s.scrollBody?.value?typeof s.scrollBody.value=="object"?W({padding:s.scrollBody.value.padding===!0?i:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?i:s.scrollBody.value.margin},y):y:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof o.padding=="number"?`${o.padding}px`:String(o.padding),document.body.style.marginRight=typeof o.margin=="number"?`${o.margin}px`:String(o.margin),document.documentElement.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),C&&(u=Y(document,"touchmove",r=>ae(r),{passive:!1})),D(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function ge(e){const t=Math.random().toString(36).substring(2,7),n=oe();n.value.set(t,e??!1);const s=O({get:()=>n.value.get(t)??!1,set:u=>n.value.set(t,u)});return N(()=>{n.value.delete(t)}),s}function U(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:U(n)}}function ae(e){const t=e||window.event,n=t.target;return n instanceof Element&&U(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function Se(e){const t=I({dir:g("ltr")});return O(()=>e?.value||t.dir?.value||"ltr")}var ue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},b=new WeakMap,w=new WeakMap,A={},k=0,K=function(e){return e&&(e.host||K(e.parentNode))},ie=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=K(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ce=function(e,t,n,s){var u=ie(t,Array.isArray(e)?e:[e]);A[n]||(A[n]=new WeakMap);var l=A[n],c=[],v=new Set,i=new Set(u),y=function(r){!r||v.has(r)||(v.add(r),y(r.parentNode))};u.forEach(y);var o=function(r){!r||i.has(r)||Array.prototype.forEach.call(r.children,function(a){if(v.has(a))o(a);else try{var p=a.getAttribute(s),d=p!==null&&p!=="false",f=(b.get(a)||0)+1,m=(l.get(a)||0)+1;b.set(a,f),l.set(a,m),c.push(a),f===1&&d&&w.set(a,!0),m===1&&a.setAttribute(n,"true"),d||a.setAttribute(s,"true")}catch(h){console.error("aria-hidden: cannot operate on ",a,h)}})};return o(t),v.clear(),k++,function(){c.forEach(function(r){var a=b.get(r)-1,p=l.get(r)-1;b.set(r,a),l.set(r,p),a||(w.has(r)||r.removeAttribute(s),w.delete(r)),p||r.removeAttribute(n)}),k--,k||(b=new WeakMap,b=new WeakMap,w=new WeakMap,A={})}},le=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),u=ue(e);return u?(s.push.apply(s,Array.from(u.querySelectorAll("[aria-live], script"))),ce(s,u,n,"aria-hidden")):function(){return null}};function we(e){let t;M(()=>j(e),n=>{n?t=le(n):t&&t()}),$(()=>{t&&t()})}function Ae(e,t="reka"){return`${t}-${H?.()}`}const de=q(()=>g([]));function fe(){const e=de();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=B(e.value,t),e.value.unshift(t)},remove(t){e.value=B(e.value,t),e.value[0]?.resume()}}}function B(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function ve(e){return e.filter(t=>t.tagName!=="A")}var pe=G({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,s=t,{currentRef:u,currentElement:l}=X(),c=g(null),v=fe(),i=V({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});L(o=>{if(!P)return;const r=l.value;if(!n.trapped)return;function a(m){if(i.paused||!r)return;const h=m.target;r.contains(h)?c.value=h:E(c.value,{select:!0})}function p(m){if(i.paused||!r)return;const h=m.relatedTarget;h!==null&&(r.contains(h)||E(c.value,{select:!0}))}function d(m){r.contains(c.value)||E(r)}document.addEventListener("focusin",a),document.addEventListener("focusout",p);const f=new MutationObserver(d);r&&f.observe(r,{childList:!0,subtree:!0}),o(()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",p),f.disconnect()})}),L(async o=>{const r=l.value;if(await D(),!r)return;v.add(i);const a=S();if(!r.contains(a)){const d=new CustomEvent(_,T);r.addEventListener(_,f=>s("mountAutoFocus",f)),r.dispatchEvent(d),d.defaultPrevented||(z(ve(J(r)),{select:!0}),S()===a&&E(r))}o(()=>{r.removeEventListener(_,m=>s("mountAutoFocus",m));const d=new CustomEvent(F,T),f=m=>{s("unmountAutoFocus",m)};r.addEventListener(F,f),r.dispatchEvent(d),setTimeout(()=>{d.defaultPrevented||E(a??document.body,{select:!0}),r.removeEventListener(F,f),v.remove(i)},0)})});function y(o){if(!n.loop&&!n.trapped||i.paused)return;const r=o.key==="Tab"&&!o.altKey&&!o.ctrlKey&&!o.metaKey,a=S();if(r&&a){const p=o.currentTarget,[d,f]=se(p);d&&f?!o.shiftKey&&a===f?(o.preventDefault(),n.loop&&E(d,{select:!0})):o.shiftKey&&a===d&&(o.preventDefault(),n.loop&&E(f,{select:!0})):a===p&&o.preventDefault()}}return(o,r)=>(Z(),Q(ne(re),{ref_key:"currentRef",ref:u,tabindex:"-1","as-child":o.asChild,as:o.as,onKeydown:y},{default:ee(()=>[te(o.$slots,"default")]),_:3},8,["as-child","as"]))}}),_e=pe;const Fe="menu.itemSelect",x=["Enter"," "],me=["ArrowDown","PageUp","Home"],ye=["ArrowUp","PageDown","End"],ke=[...me,...ye],Oe={ltr:[...x,"ArrowRight"],rtl:[...x,"ArrowLeft"]},Ce={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function Le(e){return e?"open":"closed"}function he(e){return e==="indeterminate"}function Te(e){return he(e)?"indeterminate":e?"checked":"unchecked"}function Be(e){const t=S();for(const n of e)if(n===t||(n.focus(),S()!==t))return}function Ee(e,t){const{x:n,y:s}=e;let u=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const v=t[l].x,i=t[l].y,y=t[c].x,o=t[c].y;i>s!=o>s&&n<(y-v)*(s-i)/(o-i)+v&&(u=!u)}return u}function xe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ee(n,t)}function Ie(e){return e.pointerType==="mouse"}export{_e as F,Fe as I,ye as L,x as S,Se as a,we as b,ge as c,ke as d,Ie as e,Be as f,Le as g,Te as h,xe as i,he as j,Ce as k,Oe as l,Ae as u};
