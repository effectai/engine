import{u as i}from"./BDmfGMYe.js";import{e as u,E as c,M as l,c as m,o as p}from"#entry";import"./BoYffTjC.js";const g=u({__name:"web3auth-callback",setup(f){const{web3Auth:t,init:n,privateKey:r,userInfo:o,isAuthenticated:s}=i();return c(async()=>{if(await n(),t.value?.status==="connected"){const a=await t.value.provider?.request({method:"solanaPrivateKey"});a||console.error("No private key found"),r.value=a,o.value=await t.value?.getUserInfo().then(e=>({username:e.email||e.name||"Web3Auth User",profileImage:e.profileImage||"https://avatars.dicebear.com/api/identicon/default.svg"})),s.value=!0,localStorage.setItem("authMethod","web3auth"),localStorage.setItem("userInfo",JSON.stringify(o.value)),l("/")}else console.error("Web3Auth is not connected")}),(a,e)=>(p(),m("div"))}});export{g as default};
