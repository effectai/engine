## Effect AI Protocol: Data Lifecycle

![image](../../../diagrams/sequence.png)

## 1.Task creation

Task creation is the first stage in the data lifecycle of the network.
In order to create tasks, a provider node must first define a template for the tasks they want to create. The template specifies the requirements for the tasks, such as the input data, expected output, and computational resources needed to complete the tasks. Once the template and its data are defined, the provider node can submit the batch of tasks to our smart contract which creates and returns an escrow account holding the neccesary funds, along with a unique batch ID. The batch of tasks is subsequentially broadcasted to the network and can be reserved by a manager node, the manager node then peforms some validity checks and reserves the batch. Once the batch is reserved, the manager node can decrypt the task details and start delegating tasks to worker nodes.

## 2.Task delegation

The second stage in the data lifecycle is task delegation.
Once a batch of tasks is reserved by a manager node, the manager node can decrypt the task details and start delegating tasks to worker nodes. The manager node uses a peer-to-peer (p2p) connection to assign individual tasks to available worker nodes in the network. It manages the distribution of tasks, ensuring that workers are provided with the right jobs based on their skills, availability, and demand. Worker nodes complete tasks via an interface, like a web form, and submit them back for validation. The manager node checks and confirms the work, ensuring accuracy. Once tasks are validated, rewards are distributed to both managers and workers, and the completion record is posted on-chain for transparency.

## 3.Task Execution and Validation

The third stage in the lifecycle of a batch is task validation.
depending on the required validation rate of the batch, manager nodes are responsible for achieving the required validation rate on the batch. This involves (re)delegating the completed tasks to other worker nodes for validation.

## 4.Task Completion

The final stage in the data lifecycle is task completion.
Once all the tasks in a batch are validated, rewards are distributed to both managers and workers, and the completion record is posted on-chain for transparency. This ensures that all completed tasks are recorded on the blockchain and can be verified by all participants in the network.
